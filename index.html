<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>乱炖锅 - 以我残躯化作烈火</title><meta name="author" content="NoraH1to"><meta name="copyright" content="NoraH1to"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="以我残躯化作烈火">
<meta property="og:type" content="website">
<meta property="og:title" content="乱炖锅">
<meta property="og:url" content="https://www.norah1to.com/index.html">
<meta property="og:site_name" content="乱炖锅">
<meta property="og:description" content="以我残躯化作烈火">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.norah1to.com/img/avatar.jpg">
<meta property="article:author" content="NoraH1to">
<meta property="article:tag" content="博客">
<meta property="article:tag" content="NoraH1to">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="emotion">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.norah1to.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://www.norah1to.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"H8C9SVEHPQ","apiKey":"9e542d4b5b2d39f4bec26306d2eb4034","indexName":"index","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: NoraH1to","link":"链接: ","source":"来源: 乱炖锅","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '乱炖锅',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-12-18 13:00:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/main.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/cover_index.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">乱炖锅</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">乱炖锅</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:sterbenlixuan@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://github.com/NoraH1to" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="http://steamcommunity.com/profiles/76561198239304782/" target="_blank" title="Steam"><i class="fa-brands fa-steam"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/11/23/basic/javascript/new/" title="new 关键字"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="new 关键字"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/23/basic/javascript/new/" title="new 关键字">new 关键字</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-23T08:05:00.000Z" title="发表于 2022-11-23 16:05:00">2022-11-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/Javascript/">Javascript</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Javascript/">Javascript</a></span></div><div class="content">在使用 new 关键字的时候进行了以下操作：

创建一个新的空对象 &#123;&#125;

将该对象的 __proto__ 指向构造函数的原型（继承原型）

将该对象作为函数内 this 上下文

如果函数没有返回对象，返回 this


如果函数返回了对象且期望继承原型，则需要手动继承（将对象的 __proto__ 指向 Foo.prototype）



  See the Pen 
  NEW-1 by NoraH1to (@norah1to)
  on CodePen.

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/11/19/vue3/vuetify/source-code/use-render/" title="Vuetify v3（2）- useRender"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vuetify v3（2）- useRender"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/19/vue3/vuetify/source-code/use-render/" title="Vuetify v3（2）- useRender">Vuetify v3（2）- useRender</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-19T09:05:00.000Z" title="发表于 2022-11-19 17:05:00">2022-11-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/Vue3/">Vue3</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/Vue3/tips/">tips</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/vuetify/">vuetify</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/vuetify/%E6%BA%90%E7%A0%81/">源码</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Vue3/">Vue3</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/vuetify/">vuetify</a></span></div><div class="content">如果你需要使用 setup + jsx + 暴露组件内部属性
一般来说会在 render 函数里编写 jsx 代码并返回，在 setup 中返回需要用到的属性
下面例子中的 child.tsx 为了满足上面需求，setup 暴露(返回)了所有方法


如果我们需要将 child.tsx 中 reset,init 方法设为私有呢？
好像行不通，渲染函数只能拿到 setup 中返回的内容，此时会出现一个问题：

渲染函数需要的变量均需要在 setup 中返回，导致无法控制组件暴露给外部的变量

你可能会想到 setup 中返回 jsx 渲染函数，并使用 expose 暴露需要暴露的东西
但是这个方法有一个问题，使用 expose 后组件实例中以 $ 开头的成员会被隐藏，导致很多高级的组件用法无法使用
例如如下代码：
1234567891011// test.tsximport &#123; ref &#125; from &#x27;vue&#x27;;export default &#123;  setup(props, &#123; expose &#125;) &#123;    c ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/11/17/vue3/vuetify/source-code/default-props/" title="Vuetify v3（1）- defineComponent"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vuetify v3（1）- defineComponent"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/17/vue3/vuetify/source-code/default-props/" title="Vuetify v3（1）- defineComponent">Vuetify v3（1）- defineComponent</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-17T08:07:00.000Z" title="发表于 2022-11-17 16:07:00">2022-11-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/Vue3/">Vue3</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/Vue3/tips/">tips</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/vuetify/">vuetify</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/vuetify/%E6%BA%90%E7%A0%81/">源码</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Vue3/">Vue3</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/vuetify/">vuetify</a></span></div><div class="content">前言我个人非常喜欢谷歌的 MD 设计，Vue 组件库这块 vuetify 是该设计的杠把子
尤其是升级到对应 Vue3 的 v3 版本之后，其内部实现让人眼前一亮
大概是因为 Vue2 为数不多的逻辑复用方式 mixin 很容易让人眼前一黑，一对比下来就显得新版的 vuetify 很牛逼


属性透传回到重点，在设计组件库时，嵌套组件的属性透传、默认值复写等一直让人头疼
vuetify 提供了一种较为优雅的解决方法，每个组件都是由二次封装的 defineComponent 方法声明的，例如 v-btn 的源码：
1234567891011import &#123; defineComponent, ... &#125; from &#x27;@/util&#x27;// 使用了 @util 下二次封装的 defineComponent 方法export const VBtn = defineComponent(&#123;  name: &#x27;VBtn&#x27;,  directives: &#123; ... &#125;,  props: &#123; ... &#125; ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/11/16/basic/css/fc/gfc/" title="栅格格式化上下文(GFC)"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="栅格格式化上下文(GFC)"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/16/basic/css/fc/gfc/" title="栅格格式化上下文(GFC)">栅格格式化上下文(GFC)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-16T13:16:00.000Z" title="发表于 2022-11-16 21:16:00">2022-11-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/">css</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87/">格式化上下文</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/css/">css</a></span></div><div class="content">是什么字面意思，栅格布局下的格式化上下文
布局规则看文档Grid | MDN
如何创建display: grid/inline-grid 即可
特点没啥特点，至少我在文档里没找到
个人测试与 FFC 特性一致，也是 BFC 的超集
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/11/16/basic/css/fc/ffc/" title="弹性格式化上下文(FFC)"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="弹性格式化上下文(FFC)"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/16/basic/css/fc/ffc/" title="弹性格式化上下文(FFC)">弹性格式化上下文(FFC)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-16T12:45:00.000Z" title="发表于 2022-11-16 20:45:00">2022-11-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/">css</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87/">格式化上下文</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/css/">css</a></span></div><div class="content">是什么字面意思，弹性布局下的格式化上下文
布局规则大家伙都很熟悉，就不细说了，不懂就看文档Flex | MDN
如何创建display: flex/inline-flex 即可
特点float, clear, vertical-align 属性失效

  See the Pen 
  FFC-1 by NoraH1to (@norah1to)
  on CodePen.


其余效果跟 BFC 一致，相当于 BFC 的超集
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/11/16/basic/css/fc/ifc/" title="行内格式化上下文(IFC)"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="行内格式化上下文(IFC)"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/16/basic/css/fc/ifc/" title="行内格式化上下文(IFC)">行内格式化上下文(IFC)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-16T08:30:00.000Z" title="发表于 2022-11-16 16:30:00">2022-11-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/">css</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87/">格式化上下文</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/css/">css</a></span></div><div class="content">是什么是行内的格式化上下文，行内框（inline box） 一个接一个的排列组成了它，排列顺序根据 writing-mode（书写模式）来决定：

水平书写模式，各个框从左到右水平的排列

垂直书写模式，各个框从顶部到底部开始水平的排列


:::note
行内框指 文本,&lt;span&gt;&lt;/span&gt; 和其它所有被指定成行内样式的元素，例如：

display: inline-block

display: inline-flex


:::
各个框组成了一行，该行位于一个称为 行框（line box）的矩形区域之之中
可以理解成，每一行的内容都是一个行框
行框是一个概念，并不会实际显示


创建方式块级元素中仅包含内联元素时，这些内联元素就组成了一个 IFC
当 IFC 中插入了块级元素时，原本的 IFC 会被拆分成多个 IFC，例如
12345&lt;div class=&quot;horizontal&quot;&gt;  NoraH1to&#x27;s blog  &lt;div&gt;突然插入&lt;/div&gt;  horizontal&lt;/di ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/11/15/basic/css/margin-collapsing/" title="外边距重叠"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="外边距重叠"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/15/basic/css/margin-collapsing/" title="外边距重叠">外边距重叠</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-15T12:59:00.000Z" title="发表于 2022-11-15 20:59:00">2022-11-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/">css</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/css/">css</a></span></div><div class="content">是什么两个 块 相邻的上边距和下边距有时会合并，折叠为单个边距，值为两者间的最大值，这种行为称为边距折叠
浮动元素 和 绝对定位元素 不会发生边距重合


如何产生用白话来说，只要外边距之间能互相接触到，那就会产生重叠
说细点就是，如果两个边距之间没有隔着 margin 外的任何区域（border,padding,content），就会产生重叠
:::caution
margin: 0 也会发生叠加哦，只要没有东西拦着
:::
具体可以看例子：

  See the Pen 
  margin-collaspsing-1 by NoraH1to (@norah1to)
  on CodePen.


.split 只要设定了 border,padding 或 height 都可以防止外边距叠加
父子元素父子元素也是会发生外边距叠加的

  See the Pen 
  margin-collaspsing-2 by NoraH1to (@norah1to)
  on CodePen.

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/11/15/basic/css/fc/bfc/" title="块级格式化上下文(BFC)"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="块级格式化上下文(BFC)"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/15/basic/css/fc/bfc/" title="块级格式化上下文(BFC)">块级格式化上下文(BFC)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-15T11:29:00.000Z" title="发表于 2022-11-15 19:29:00">2022-11-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/">css</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87/">格式化上下文</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/css/">css</a></span></div><div class="content">是什么是块级的格式化上下文，其上下文内有其特定的布局规则，是浮动元素与其它元素可发生交互的区域
创建方式以下几个常用的方式会创建块级格式化上下文：

&lt;html&gt;&lt;/html&gt; （根元素即是 BFC）

float 不为 none（浮动元素）

position 为 absolute,fixed（绝对定位元素）

display 值为以下之一

专门用于创建BFC的 flow-root，意在无副作用的创建BFC

行内块级 inline-block

表格相关 table,table-cell…



灵活布局(flex)或栅格布局(grid)的直接子元素（子元素不能为 flex,grid 或 table 容器）


其它详细的创建方法可查阅MDN 文档
作用BFC 常常用来清除浮动，因为其效果有：

包含内部浮动

排除外部浮动

阻止外边距重叠


通俗来说就是 创建一个内外隔绝的环境，外部不会影响到内部，内部也不会影响到外部
包含内部浮动下面代码由一个父元素包裹两个同级的子元素，第二个子元素为浮动元素
由于第二个子元素是浮动的，所以会导致父元素高度坍塌
但 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/11/15/basic/css/fc/" title="格式化上下文"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="格式化上下文"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/15/basic/css/fc/" title="格式化上下文">格式化上下文</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-15T09:04:00.000Z" title="发表于 2022-11-15 17:04:00">2022-11-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/">css</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B%E6%96%87/">格式化上下文</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/css/">css</a></span></div><div class="content">八股环节经典考点 BFC，其全称为 Block formatting context(块级格式化上下文)，它就是其中一种 Formatting contexts(格式化上下文)
格式化上下文总共有以下种类：

Block formatting contexts 块级格式化上下文 BFC

Inline formatting context 行内格式化上下文 IFC

Flex formatting contexts 弹性格式化上下文 FFC

Grid formatting contexts 栅格格式化上下文 GFC


页面上所见的所有内容都是格式化上下文的一部分，格式化上下文会影响布局方式

参考
Formatting context | MDN格式化上下文 | 掘金

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/11/13/basic/css/z-index/" title="z-index"><img class="post_bg" src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="z-index"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/13/basic/css/z-index/" title="z-index">z-index</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-13T08:51:00.000Z" title="发表于 2022-11-13 16:51:00">2022-11-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF/css/">css</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/css/">css</a></span></div><div class="content">我对 z-index 的理解至今仅停留在 定义一个元素在屏幕Z轴上的堆叠顺序，然而这是比较片面的一种理解

z-index 并不是在任意地方都有效。它仅在 定义了 position 属性且值不为 static 的元素上生效

判断元素在 Z轴 上的堆叠顺序，不仅要比较 z-index 的大小，还会由元素的 层叠上下文、层叠等级 共同决定


所以要理解 z-index 需要理解下面几个概念

层叠上下文

层叠等级

层叠顺序


层叠上下文在 CSS2.1 规范中，每个盒模型的位置是由三个维度决定的，分别是画布上的 X轴、Y轴 以及表示层叠的 Z轴
正常情况下我们只能观察到元素在 X轴Y轴 上的分布，却看不出它们在 Z轴 上的层叠关系；但如果元素发生了堆叠，此时就能发现某些元素之间会出现相互覆盖的情况
如果一个元素产生了层叠上下文，那么它就是 层叠上下文元素，没有的我们暂称为普通元素
HTML 的根元素 &lt;html&gt;&lt;/html&gt; 存在一个 根层叠上下文
普通元素其实就在根层叠上下文中，但大家的上下文都一样，可以理解成大家都没有上下文


符合以下条件的元素， ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">NoraH1to</div><div class="author-info__description">以我残躯化作烈火</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://space.bilibili.com/11171730/"><i class="fab fa-bilibili"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:sterbenlixuan@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://github.com/NoraH1to" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="http://steamcommunity.com/profiles/76561198239304782/" target="_blank" title="Steam"><i class="fa-brands fa-steam"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/11/23/basic/javascript/new/" title="new 关键字"><img src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="new 关键字"/></a><div class="content"><a class="title" href="/2022/11/23/basic/javascript/new/" title="new 关键字">new 关键字</a><time datetime="2022-11-23T08:05:00.000Z" title="发表于 2022-11-23 16:05:00">2022-11-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/19/vue3/vuetify/source-code/use-render/" title="Vuetify v3（2）- useRender"><img src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vuetify v3（2）- useRender"/></a><div class="content"><a class="title" href="/2022/11/19/vue3/vuetify/source-code/use-render/" title="Vuetify v3（2）- useRender">Vuetify v3（2）- useRender</a><time datetime="2022-11-19T09:05:00.000Z" title="发表于 2022-11-19 17:05:00">2022-11-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/17/vue3/vuetify/source-code/default-props/" title="Vuetify v3（1）- defineComponent"><img src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vuetify v3（1）- defineComponent"/></a><div class="content"><a class="title" href="/2022/11/17/vue3/vuetify/source-code/default-props/" title="Vuetify v3（1）- defineComponent">Vuetify v3（1）- defineComponent</a><time datetime="2022-11-17T08:07:00.000Z" title="发表于 2022-11-17 16:07:00">2022-11-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/16/basic/css/fc/gfc/" title="栅格格式化上下文(GFC)"><img src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="栅格格式化上下文(GFC)"/></a><div class="content"><a class="title" href="/2022/11/16/basic/css/fc/gfc/" title="栅格格式化上下文(GFC)">栅格格式化上下文(GFC)</a><time datetime="2022-11-16T13:16:00.000Z" title="发表于 2022-11-16 21:16:00">2022-11-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/16/basic/css/fc/ffc/" title="弹性格式化上下文(FFC)"><img src="/img/cover_post.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="弹性格式化上下文(FFC)"/></a><div class="content"><a class="title" href="/2022/11/16/basic/css/fc/ffc/" title="弹性格式化上下文(FFC)">弹性格式化上下文(FFC)</a><time datetime="2022-11-16T12:45:00.000Z" title="发表于 2022-11-16 20:45:00">2022-11-16</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/leet-code/"><span class="card-category-list-name">leet-code</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="card-category-list-name">前端</span><span class="card-category-list-count">38</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Javascript/"><span class="card-category-list-name">Javascript</span><span class="card-category-list-count">7</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Javascript/ES6/"><span class="card-category-list-name">ES6</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Vue2/"><span class="card-category-list-name">Vue2</span><span class="card-category-list-count">3</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Vue2/tips/"><span class="card-category-list-name">tips</span><span class="card-category-list-count">3</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Vue3/"><span class="card-category-list-name">Vue3</span><span class="card-category-list-count">10</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/Vue3/tips/"><span class="card-category-list-name">tips</span><span class="card-category-list-count">3</span></a></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/ES6/" style="font-size: 1.1em; color: #999">ES6</a> <a href="/tags/Javascript/" style="font-size: 1.3em; color: #99a1ac">Javascript</a> <a href="/tags/TCP/" style="font-size: 1.1em; color: #999">TCP</a> <a href="/tags/Vue2/" style="font-size: 1.23em; color: #999ea6">Vue2</a> <a href="/tags/Vue3/" style="font-size: 1.43em; color: #99a6b9">Vue3</a> <a href="/tags/Vuetify/" style="font-size: 1.1em; color: #999">Vuetify</a> <a href="/tags/css/" style="font-size: 1.37em; color: #99a4b2">css</a> <a href="/tags/css-in-js/" style="font-size: 1.17em; color: #999c9f">css-in-js</a> <a href="/tags/http/" style="font-size: 1.1em; color: #999">http</a> <a href="/tags/issue/" style="font-size: 1.1em; color: #999">issue</a> <a href="/tags/leet-code/" style="font-size: 1.43em; color: #99a6b9">leet-code</a> <a href="/tags/sass/" style="font-size: 1.23em; color: #999ea6">sass</a> <a href="/tags/vuetify/" style="font-size: 1.17em; color: #999c9f">vuetify</a> <a href="/tags/webpack/" style="font-size: 1.23em; color: #999ea6">webpack</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 1.17em; color: #999c9f">二叉树</a> <a href="/tags/%E5%8E%9F%E5%9E%8B%E9%93%BE/" style="font-size: 1.1em; color: #999">原型链</a> <a href="/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/" style="font-size: 1.1em; color: #999">哈希表</a> <a href="/tags/%E5%A0%86/" style="font-size: 1.23em; color: #999ea6">堆</a> <a href="/tags/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 1.1em; color: #999">完全二叉树</a> <a href="/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/" style="font-size: 1.23em; color: #999ea6">工程化</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.5em; color: #99a9bf">数据结构</a> <a href="/tags/%E6%A0%88/" style="font-size: 1.23em; color: #999ea6">栈</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%90%86/" style="font-size: 1.1em; color: #999">浏览器原理</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.43em; color: #99a6b9">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.17em; color: #999c9f">计算机网络</a> <a href="/tags/%E8%BF%90%E7%AE%97%E7%AC%A6/" style="font-size: 1.1em; color: #999">运算符</a> <a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 1.1em; color: #999">链表</a> <a href="/tags/%E9%98%9F%E5%88%97/" style="font-size: 1.23em; color: #999ea6">队列</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.23em; color: #999ea6">面试</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/08/"><span class="card-archive-list-date">八月 2022</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">22</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/06/"><span class="card-archive-list-date">六月 2021</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">65</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-06-01T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">67.4k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-12-18T05:00:22.039Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By NoraH1to</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["Nameless, Fearless"],
      startDelay: 200,
      typeSpeed: 50,
      loop: false,
      backSpeed: 100
    })
  } else {
    document.getElementById("subtitle").innerHTML = 'Nameless, Fearless'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><div class="aplayer no-destroy" data-id="7826602140" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-volume="0.1"> </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>